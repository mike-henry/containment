apply plugin: 'java'
apply plugin: 'maven'
apply plugin: 'application'

apply plugin: 'com.github.johnrengelman.shadow'
group = "com.spx.app"
//version = '0.8.0.1-SNAPSHOT'
//project 
version = "0.0.1"

description = """"""

sourceCompatibility = 1.8
targetCompatibility = 1.8

mainClassName = 'com.spx.general.MainApplication'


ext {
    dropwizardVersion = "1.1.1"
    deltaspikeVersion="1.8.0"
    ogmVersion="5.1.0.Final"
    owbVersion="2.0.9"
    dropwizardVersion="1.1.1"
    weldVersion="2.2.8.Final"

}


buildscript {
    repositories {
        jcenter {
            url "http://jcenter.bintray.com/"
        }
        mavenLocal()
        mavenCentral()
    }

    dependencies {
     
       classpath "com.github.jengelman.gradle.plugins:shadow:4.0.0"
        classpath "org.galaxx.gradle:jandex:1.0.2"

    }
}



repositories {
        
     maven { url "http://repo.maven.apache.org/maven2" }
 
}
dependencies {



    implementation "org.apache.deltaspike.distribution:distributions-bom:${deltaspikeVersion}"
    implementation "org.hibernate.ogm:hibernate-ogm-bom:${ogmVersion}"

// https://mvnrepository.com/artifact/javax.enterprise/cdi-api
implementation  group: 'javax.enterprise', name: 'cdi-api', version: '2.0'



    compile group: 'io.dropwizard', name: 'dropwizard-core', version: "${dropwizardVersion}"
    compile group: 'io.dropwizard', name: 'dropwizard-migrations', version: "${dropwizardVersion}"
    compile group: 'io.dropwizard', name: 'dropwizard-validation', version: "${dropwizardVersion}"
    compile group: 'javax.validation', name: 'validation-api', version:'1.1.0.Final'
    compile group: 'org.eclipse.jetty', name: 'jetty-cdi', version:'9.2.4.v20141103'
  //  compile group: 'javax.servlet.jsp', name: 'jsp-api', version:'2.2'
    compile group: 'javax.enterprise', name: 'cdi-api', version:'1.2'
    //compile group: 'org.jboss.weld.se', name: 'weld-se-core', version: "${weldVersion}"
    compile group: 'org.glassfish.jersey.containers', name: 'jersey-container-servlet-core', version:'2.23.2'
   // compile group: 'org.jboss.weld.servlet', name: 'weld-servlet', version:'2.2.8.Final'
   // compile group: 'javax.transaction', name: 'javax.transaction-api', version:'1.2'
    compile group: 'org.projectlombok', name: 'lombok', version:'1.16.20'
    compile group: 'com.smoketurner', name: 'dropwizard-swagger', version:'1.0.6-1'
    compile group: 'org.apache.deltaspike.modules', name: 'deltaspike-data-module-api', version:'1.8.0'
    compile group: 'org.apache.deltaspike.core', name: 'deltaspike-core-api', version:'1.8.0'
    compile group: 'org.apache.shiro', name: 'shiro-core', version:'1.2.5'
    compile group: 'org.apache.shiro', name: 'shiro-web', version:'1.2.5'
    //compile group: 'org.glassfish.jersey.ext.cdi', name: 'jersey-weld2-se', version:'2.23.2'
    compile group: 'org.jboss.resteasy', name: 'resteasy-jackson2-provider', version:'3.0.19.Final'
    compile(group: 'org.hibernate', name: 'hibernate-entitymanager', version:'5.1.4.Final') {
            exclude(module: 'jboss-logging')
    }
   compile group: 'org.jboss.jbossts', name: 'jbossjta', version:'4.16.4.Final'
    compile group: 'io.dropwizard', name: 'dropwizard-db', version:'1.1.1'
    compile group: 'io.dropwizard', name: 'dropwizard-hibernate', version:'1.1.1'
    //compile group: 'org.jadira.usertype', name: 'usertype.spi', version:'5.0.0.GA'
    compile group: 'org.hibernate.ogm', name: 'hibernate-ogm-neo4j', version:'5.1.0.Final'
    compile(group: 'org.hibernate', name: 'hibernate-core', version:'5.1.4.Final') {
        exclude(module: 'jboss-logging')
    }
    compile group: 'org.postgresql', name: 'postgresql', version:'42.0.0'
    runtime group: 'org.hibernate', name: 'hibernate-validator', version:'5.3.5.Final'
    runtime group: 'org.apache.deltaspike.modules', name: 'deltaspike-data-module-impl', version:'1.8.0'
    runtime group: 'org.apache.deltaspike.core', name: 'deltaspike-core-impl', version:'1.8.0'
    testCompile group: 'io.dropwizard', name: 'dropwizard-testing', version:'1.1.1'
    testCompile group: 'org.glassfish.jersey.test-framework.providers', name: 'jersey-test-framework-provider-inmemory', version:'2.23.2'
    testCompile group: 'org.needle4j', name: 'needle4j', version:'2.3'
    testCompile group: 'org.mockito', name: 'mockito-all', version:'1.9.5'
    testCompile group: 'info.cukes', name: 'cucumber-java', version:'1.0.2'
    testCompile group: 'info.cukes', name: 'cucumber-junit', version:'1.0.2'
    compileOnly group: 'org.slf4j', name: 'slf4j-api', version:'1.7.7'

    implementation "org.apache.openwebbeans:openwebbeans-spi:${owbVersion}"
    implementation "org.apache.openwebbeans:openwebbeans-impl:${owbVersion}"








}

shadowJar {
 
 
 
    mergeServiceFiles()
 
 
 
}